<% content_for :title, @note.title %>

<div class="md:w-2/3 w-full mx-auto my-8">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice">
      <%= notice %>
    </p>
  <% end %>

  <!-- Título da nota -->
  <h1 class="font-bold text-4xl mb-4"><%= @note.title %></h1>

  <!-- Conteúdo Markdown com links internos -->
  <div class="note-content prose mb-4">
    <%= render_markdown(@note.content) %>
  </div>

  <!-- Tags -->
  <% if @note.tags.present? %>
    <p class="mb-4"><strong>Tags:</strong> <%= @note.tags %></p>
  <% end %>

  <!-- Backlinks -->
  <% if @note.backlinks.any? %>
    <h3 class="mt-6 text-xl font-semibold">Backlinks</h3>
    <ul class="list-disc ml-5 mt-2 mb-4">
      <% @note.backlinks.each do |b| %>
        <li>
          <%= link_to b.title, note_path(b), class: "text-blue-600 hover:underline" %>
        </li>
      <% end %>
    </ul>
  <% end %>

  <!-- Botões -->
  <div class="flex flex-wrap gap-2">
    <%= link_to "Editar Nota", edit_note_path(@note), class: "px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 font-medium" %>
    <%= link_to "Voltar", notes_path, class: "px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 font-medium" %>
    <%= button_to "Apagar Nota", @note, method: :delete, form_class: "inline-block", class: "px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-500 font-medium", data: { turbo_confirm: "Tem certeza?" } %>
  </div>
</div>
